<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script>
    class Human{
      constructor(name, age, dateOfBirdth){
        this.name = name;
        this.age = age;
        this.dateOfBirdth = dateOfBirdth;
      }

      displayInfo(){
        let str = `human - ${this.name} ${this.age} ${this.dateOfBirdth}`;
        return str;
      }
    }

    class Employee extends Human{
      constructor(name, age, dateOfBirdth, salary, department){
        super(name, age, dateOfBirdth);
        this.salary = salary;
        this.department = department;
      }

      displayInfo(){
        let str = `${super.displayInfo()} employee - ${this.salary} ${this.department}`;
        return str;
      }
    }

    class Manager extends Employee{
      constructor(name, age, dateOfBirdth, salary, department){
        super(name, age, dateOfBirdth, salary, department);
        this.subordinates = [];
      }

      addSubordinate(subordinateEmployee){
        // console.log (this.subordinates.length);
        for (var i = 0; i < this.subordinates.length; i++) {
          if(this.subordinates[i] === subordinateEmployee){
            return 0;
          }
        }
        this.subordinates[this.subordinates.length] = subordinateEmployee;
        return 1;
      }

      delSubordinate(subordinateEmployee){
        // console.log (this.subordinates.length);
        for (var i = 0; i < this.subordinates.length; i++) {
          if(this.subordinates[i] === subordinateEmployee){
            this.subordinates.splice(i,1);
            return 1;
          }
        }
        return 0;
      }      

      displayInfo(){
        // console.log(this.subordinates);
        let str = `${super.displayInfo()} manager - `;
        for (var i = 0; i < this.subordinates.length; i++) {
          str += `${this.subordinates[i].name} `;
        }
        return str;
      }
    }

    class Developer extends Employee{
      constructor(name, age, dateOfBirdth, salary, department, manager){
        super(name, age, dateOfBirdth, salary, department);
        if(manager instanceof Manager){
          this.manager = manager;
        }
      }

      setManager(manager){
        if(manager instanceof Manager){
          this.manager.delSubordinate(this);
          this.manager = manager;
          this.manager.addSubordinate(this);
          this.department = this.manager.department;
        }
      }

      displayInfo(){
        let str = `${super.displayInfo()} developer - ${this.manager.name}`;
        return str;
      }
    }

    let human1 = new Human('Olga', 25, '01.01.2018');
    console.log(human1.displayInfo());
    let employee1 = new Employee('Nick', 25, '01.01.2018', 55555, "dep0");
    console.log(employee1.displayInfo());   

    let manager1 = new Manager('Anna', 25, '01.01.2018', 66666, "dep0");
    console.log(manager1.displayInfo());   
    let manager2 = new Manager('Bet', 25, '11.11.2018', 66666, "dep1");
    console.log(manager2.displayInfo());   

    let developer1 = new Developer('Saimon', 25, '03.03.2013', 55555, "dep0", manager1);
    console.log(developer1.displayInfo());  
    manager1.addSubordinate(developer1);
    console.log(manager1.displayInfo());  
    let developer2 = new Developer('Poll', 25, '03.03.2013', 55555, "dep0", manager1);
    console.log(developer2.displayInfo());  
    manager1.addSubordinate(developer2);
    console.log(manager1.displayInfo());  

    developer1.setManager(manager2);
    console.log(developer1.displayInfo());
    console.log(manager1.displayInfo());  
    console.log(manager2.displayInfo());   

  </script>
</head>
<body>
  
</body>
</html>